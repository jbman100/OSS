<!DOCTYPE html>
<head>
    <meta charset=utf-8>
    <link rel="stylesheet" type="text/css" href="http://skutnik.iiens.net/github_like.css">
    <link rel="stylesheet" type="text/css" href="http://skutnik.iiens.net/colors.css">
    <link rel="shortcut icon" href="http://skutnik.iiens.net/icon.png" type="image/x-icon">
    <title>spoutnik.com</title>
</head>
<p><a href="http://skutnik.iiens.net/cours/OSS">Retour au sommaire</a></p>
<h2><code>open</code></h2>
<blockquote>
<p><code>int open(const char *pathname, int flags)</code></p>
</blockquote>
<h5>Fonction</h5>
<ul>
<li>Ouvre un flux vers le fichier passé en argument.</li>
</ul>
<h5>Arguments</h5>
<ul>
<li><code>const char *pathname</code>: Le nom du fichier;</li>
<li><code>int flags</code>: un entier spécial défini dans un <code>enum</code>, pouvant être:
<ul>
<li><code>O_RDONLY</code>: lecture seule;</li>
<li><code>O_WRONLY</code>: lecture seule;</li>
<li><code>O_RDWR</code>: lecture et écriture;</li>
<li><code>O_TRUNC</code>: effacement avant écriture;</li>
<li><code>O_CREAT</code>: création si non-existent;</li>
<li><code>O_APPEND</code>: écriture en fin de fichier.</li>
</ul>
</li>
</ul>
<h4>Retour</h4>
<ul>
<li>Un entier <code>fd</code> correspondant au flux créé, <code>-1</code> sinon.</li>
</ul>
<h2><code>close</code></h2>
<blockquote>
<p><code>int close(int fd)</code></p>
</blockquote>
<h5>Fonction</h5>
<ul>
<li>Ferme un flux passé en argument.</li>
</ul>
<h5>Arguments</h5>
<ul>
<li><code>int fd</code>: l'entier correspondant au flux.</li>
</ul>
<h5>Retour</h5>
<ul>
<li>Un entier correspondant au statut, <code>-1</code> si une erreur s'est produite.</li>
</ul>
<h2><code>write</code></h2>
<blockquote>
<p><code>ssize_t write(int fd, const void *buf, size_t count)</code></p>
</blockquote>
<h5>Fonction</h5>
<ul>
<li>Écrit dans un flux passé en argument.</li>
</ul>
<h5>Arguments</h5>
<ul>
<li><code>int fd</code>: l'entier correspondant au flux;</li>
<li><code>const void *buf</code>: un pointeur vers la mémoire à écrire dans le fichier;</li>
<li><code>size_t count</code>: la taille de la mémoire à écrire.</li>
</ul>
<h5>Retour</h5>
<ul>
<li>Un entier correspondant au nombre de bytes écrits, <code>-1</code> si une erreur s'est produite.</li>
</ul>
<h2><code>read</code></h2>
<blockquote>
<p><code>ssize_t read(int fd, void *buf, size_t count)</code></p>
</blockquote>
<h5>Fonction</h5>
<ul>
<li>Lit dans le flux correpondant à <code>fd</code> <code>count</code> bytes, et les stocke dans <code>buf</code>.</li>
</ul>
<h5>Arguments</h5>
<ul>
<li><code>int fd</code>: le descripteur de flux;</li>
<li><code>void *buf</code>: un pointeur vers la zone mémoire où stocker les infos lues;</li>
<li><code>size_t count</code>: la taille de la mémoire à lire.</li>
</ul>
<h5>Retour</h5>
<ul>
<li>Un entier correspondant à la taille de la mémoire lue, et <code>-1</code> si une erreur s'est produite.</li>
</ul>
<h2><code>lseek</code></h2>
<blockquote>
<p><code>off_t lseek(int fd, off_t offset, int whence)</code></p>
</blockquote>
<h5>Fonction</h5>
<ul>
<li>Repositionne dans le flux correpondant à <code>fd</code> de <code>offset</code> par rapport à <code>whence</code>: si <code>whence</code> est <code>SEEK_END</code> et <code>offset</code> est <code>0</code>, il va à <code>0</code> <code>bytes</code> de la fin.</li>
</ul>
<h5>Arguments</h5>
<ul>
<li><code>int fd</code>: le descripteur de flux;</li>
<li><code>off_t offset</code>: Le décalage depuis <code>whence</code>;</li>
<li><code>int whence</code>: un entier spécial défini dans un <code>enum</code>, pouvant être:
<ul>
<li><code>SEEK_SET</code>: Depuis le début;</li>
<li><code>SEEK_CUR</code>: Depuis la position du curseur;</li>
<li><code>SEEK_END</code>: Depuis la fin.</li>
</ul>
</li>
</ul>
<h5>Retour</h5>
<ul>
<li>Un entier correspondant à la position du curseur dans le fichier, et <code>-1</code> si une erreur s'est produite.</li>
</ul>
<h2><code>dup</code> et <code>dup2</code></h2>
<blockquote>
<p><code>int dup(int oldfd)</code></p>
</blockquote>
<blockquote>
<p><code>int dup2(int oldfd, int newfd)</code></p>
</blockquote>
<h5>Fonction</h5>
<ul>
<li>Copie les flux. <code>dup</code> crée un nouveau <code>fd</code> qui pointe vers le même flux que <code>oldfd</code>, alors que <code>dup2</code> ferme <code>newfd</code> et le fait pointer vers le même flux que <code>oldfd</code>.</li>
</ul>
<h5>Arguments</h5>
<ul>
<li><code>int oldfd</code>: le descripteur de flux à copier;</li>
<li><code>int newfd</code>: le flux à écraser et faire pointer vers <code>oldfd</code>.</li>
</ul>
<h5>Retour</h5>
<ul>
<li>Un entier correspondant au <code>fd</code> créé, et <code>-1</code> si une erreur s'est produite.</li>
</ul>
